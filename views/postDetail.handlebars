<main class="container">
    {{#if post}}
    <div class="container">
        <div class="row">
            <div class="col-12 col-sm-3"></div>
            <!--img slide-->
            <div id="carouselExampleControls" class="carousel slide col-sm-6" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src={{post.animal_photo}} class="d-block w-100" alt="...">
                    </div>
                    {{!-- <div class="carousel-item">
                        <img src={{post.animal_photo}} class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src={{post.animal_photo}} class="d-block w-100" alt="...">
                    </div> --}}
                </div>
                {{!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button> --}}
            </div>
        </div>
        <div class="row">
            <div class="col" id="map"></div>
        </div>
        <div class="row">
            <div class="col-3"></div>
            <div class="col-12 col-lg-6">
                <hr>
                <p>Update Time: {{post.find_time}}</p>
                <hr>
                <p>Animal Name: {{post.animal_name}}</p>
                <hr>
                <p>Species: {{post.species}}</p>
                <hr>
                <p>Health Condition: {{post.health_condition}}</p>
                <hr>
                <p>{{post.description}}</p>
                <hr>
                <p>Location:{{post.location}} </p>
                <hr>

                <button type="button" class="col-12 mb-3 btn btn-primary">Add to My Follow List</button>
            </div>
            <div class="col-3"></div>
        </div>

        <div class="container">

            <hr>
            <div class="container">
                <div class="row text-center">
                    <div class="col-3"></div>
                    <p class="ccol-12 col-lg-6">Comments</p>
                    <div class="col-3"></div>
                </div>
                <div class="row">

                    <div class="col-3"></div>
                    <div class="col-12 col-lg-6 container">

                        {{#if comments}}
                        {{#each comments}}
                        <hr>
                        <div class="row">

                            <p class="row comment-text"><span class="col">{{text}}</span></p>
                            <p class="row comment-info">
                                <span class="col">Author: {{username}}</span> <span class="col">Posted At:
                                    {{time}}</span>
                            </p>
                        </div>
                        <hr>
                        {{/each}}
                        {{else}}
                        <p class="row">No Comment Yet</p>
                        {{/if}}


                        {{#if login}}
                        <div class="row">

                            <form action={{animal_id}} method="POST" class="col-12" id="commentForm">
                                <div class="mb-3 container text-center">
                                    <label for="newComment" class="form-label mb-3">Want to say something?</label>
                                    <textarea class="form-control mb-3" id="newComment" name="newComment"
                                        rows="3"></textarea>
                                    <ul class="errorInfo"></ul>

                                    <button type="submit" class="btn btn-primary mb-3" id="submitComment">Add
                                        Comment</button>

                                </div>
                            </form>

                        </div>
                        {{else}}
                        <div class="row text-center mb-3">
                            <div class="col-3"></div>
                            <p class="col-6">Please Login To Comment</p>
                            <div class="col-3"></div>
                        </div>
                        {{/if}}

                    </div>
                    <div class="col-3"></div>
                </div>
            </div>
        </div>




    </div>
    {{else}}
    <!--incase there is no valid data pass into this page-->
    <p>No Detail Infomation</p>

    {{/if}}
    <div class="container text-center">
        <a href="/animal" class="row"> <span class="col-12">Go Back</span> </a>
    </div>
    <script src="../public/js/addCommentValidation.js"></script>

    {{!-- map --}}
    <script>
        const singlelocation = "{{post.Location}}";
    </script>
    <script src="../public/js/map/singlelocation.js"></script>
    <script>
        singleLocation(singlelocation);
    </script>
</main>